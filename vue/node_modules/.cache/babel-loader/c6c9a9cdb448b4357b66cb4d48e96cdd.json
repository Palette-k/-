{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7bf3755a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"register-title\"\n}, \"注册\", -1\n/* HOISTED */\n));\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"注册\");\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" 已有账号>>请登录 \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_col = _resolveComponent(\"el-col\");\n\n  const _component_el_link = _resolveComponent(\"el-link\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_form, {\n    \"status-icon\": \"\",\n    ref: \"RegisterForm\",\n    model: $data.user,\n    rules: $data.rules,\n    \"label-width\": \"80px\",\n    class: \"register-box\"\n  }, {\n    default: _withCtx(() => [_hoisted_1, _createVNode(_component_el_form_item, {\n      label: \"账号申请\",\n      prop: \"account\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"text\",\n        placeholder: \"请输入邮箱/手机号\",\n        modelValue: $data.user.account,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.account = $event)\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"用户名\",\n      prop: \"username\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"text\",\n        placeholder: \"请输入用户名\",\n        modelValue: $data.user.username,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.username = $event)\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"密码\",\n      prop: \"pass\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.user.pass,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.user.pass = $event),\n        type: \"password\",\n        \"show-password\": \"\",\n        autocomplete: \"off\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"确认密码\",\n      prop: \"checkPass\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.user.checkPass,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.user.checkPass = $event),\n        type: \"password\",\n        autocomplete: \"off\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_col, {\n        span: 6\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"warning\",\n          onClick: _cache[4] || (_cache[4] = $event => $options.registerSubmit('ruleForm')),\n          style: {\n            \"width\": \"100%\"\n          }\n        }, {\n          default: _withCtx(() => [_hoisted_2]),\n          _: 1\n          /* STABLE */\n\n        })]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_col, {\n        span: 11,\n        offset: 7\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_link, {\n          href: \"/login\",\n          target: \"_self\",\n          type: \"primary\",\n          fontsize: \"small\",\n          underline: false\n        }, {\n          default: _withCtx(() => [_hoisted_3]),\n          _: 1\n          /* STABLE */\n\n        })]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"model\", \"rules\"])]);\n}","map":{"version":3,"mappings":";;;;gEAGMA,oBAAkC,IAAlC,EAAkC;AAA9BC,OAAK,EAAC;AAAwB,CAAlC,EAA2B,IAA3B,EAA6B;AAAA;AAA7B;;iDAcsG;;iDAGnC;;;;;;;;;;;;;;;uBAnBvEC,oBA0BM,KA1BN,EA0BM,IA1BN,EA0BM,CAzBJC,aAuBUC,kBAvBV,EAuBU;AAvBD,qBAuBC;AAvBWC,OAAG,EAAC,cAuBf;AAvB+BC,SAAK,EAAEC,UAuBtC;AAvB6CC,SAAK,EAAED,WAuBpD;AAvB2D,mBAAY,MAuBvE;AAvB8EN,SAAK,EAAC;AAuBpF,GAvBV;sBACE,MAAkC,CAAlCQ,UAAkC,EAClCN,aAEeO,uBAFf,EAEe;AAFDC,WAAK,EAAC,MAEL;AAFYC,UAAI,EAAC;AAEjB,KAFf;wBACE,MAAsE,CAAtET,aAAsEU,mBAAtE,EAAsE;AAA5DC,YAAI,EAAC,MAAuD;AAAhDC,mBAAW,EAAC,WAAoC;oBAAfR,WAAKS,OAAU;mEAAfT,WAAKS,UAAOC;AAAG,OAAtE;;AAAA,uBAAsE;;;;KADxE,CADkC,EAIlCd,aAEeO,uBAFf,EAEe;AAFDC,WAAK,EAAC,KAEL;AAFWC,UAAI,EAAC;AAEhB,KAFf;wBACE,MAAoE,CAApET,aAAoEU,mBAApE,EAAoE;AAA1DC,YAAI,EAAC,MAAqD;AAA9CC,mBAAW,EAAC,QAAkC;oBAAhBR,WAAKW,QAAW;mEAAhBX,WAAKW,WAAQD;AAAG,OAApE;;AAAA,uBAAoE;;;;KADtE,CAJkC,EAOlCd,aAEeO,uBAFf,EAEe;AAFDC,WAAK,EAAC,IAEL;AAFUC,UAAI,EAAC;AAEf,KAFf;wBACE,MAA0F,CAA1FT,aAA0FU,mBAA1F,EAA0F;oBAAvEN,WAAKY,IAAkE;mEAAvEZ,WAAKY,OAAIF,OAA8D;AAA5DH,YAAI,EAAC,UAAuD;AAA5C,2BAA4C;AAA9BM,oBAAY,EAAC;AAAiB,OAA1F;;AAAA,uBAA0F;;;;KAD5F,CAPkC,EAUlCjB,aAEeO,uBAFf,EAEe;AAFDC,WAAK,EAAC,MAEL;AAFYC,UAAI,EAAC;AAEjB,KAFf;wBACE,MAAkF,CAAlFT,aAAkFU,mBAAlF,EAAkF;oBAA/DN,WAAKc,SAA0D;mEAA/Dd,WAAKc,YAASJ,OAAiD;AAA/CH,YAAI,EAAC,UAA0C;AAA9BM,oBAAY,EAAC;AAAiB,OAAlF;;AAAA,uBAAkF;;;;KADpF,CAVkC,EAalCjB,aAQeO,uBARf,EAQe,IARf,EAQe;wBAPb,MAA2H,CAA3HP,aAA2HmB,iBAA3H,EAA2H;AAAlHC,YAAI,EAAE;AAA4G,OAA3H,EAAgB;0BAAE,MAAgG,CAAhGpB,aAAgGqB,oBAAhG,EAAgG;AAArFV,cAAI,EAAC,SAAgF;AAArEW,iBAAK,sCAAEC,wBAAc,UAAd,CAAF,CAAgE;AAAlCC,eAAmB,EAAnB;AAAA;AAAA;AAAkC,SAAhG;4BAAkF,MAAE;;;;SAApF,CAAgG,EAAlG;;;;AAAA,OAAhB,CAA2H,EACzHxB,aAKSmB,iBALT,EAKS;AALAC,YAAI,EAAE,EAKN;AALWK,cAAM,EAAE;AAKnB,OALT;0BACE,MAGU,CAHVzB,aAGU0B,kBAHV,EAGU;AAHDC,cAAI,EAAC,QAGJ;AAHaC,gBAAM,EAAE,OAGrB;AAFDjB,cAAI,EAAC,SAEJ;AAFckB,kBAAQ,EAAC,OAEvB;AAFiCC,mBAAS,EAAE;AAE5C,SAHV;4BAC6D,MAE7D;;;;SAHA,CAGU;;;;OAJZ,CADyH,EAO9G;;;;AAAA,KARf,CAbkC;;;;GADpC;;AAAA,uBAyBI,CA1BN","names":["_createElementVNode","class","_createElementBlock","_createVNode","_component_el_form","ref","model","$data","rules","_hoisted_1","_component_el_form_item","label","prop","_component_el_input","type","placeholder","account","$event","username","pass","autocomplete","checkPass","_component_el_col","span","_component_el_button","onClick","$options","style","offset","_component_el_link","href","target","fontsize","underline"],"sourceRoot":"","sources":["D:\\IDEA\\CommentSystem\\vue\\src\\components\\Register.vue"],"sourcesContent":["<template>\n  <div>\n    <el-form status-icon ref=\"RegisterForm\" :model=\"user\" :rules=\"rules\" label-width=\"80px\" class=\"register-box\">\n      <h2 class=\"register-title\">注册</h2>\n      <el-form-item label=\"账号申请\" prop=\"account\">\n        <el-input type=\"text\" placeholder=\"请输入邮箱/手机号\" v-model=\"user.account\"/>\n      </el-form-item>\n      <el-form-item label=\"用户名\" prop=\"username\">\n        <el-input type=\"text\" placeholder=\"请输入用户名\" v-model=\"user.username\"/>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"pass\">\n        <el-input v-model=\"user.pass\" type=\"password\" show-password autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认密码\" prop=\"checkPass\">\n        <el-input v-model=\"user.checkPass\" type=\"password\"  autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-col :span=\"6\"><el-button type=\"warning\" @click=\"registerSubmit('ruleForm')\" style=\"width:100%;\">注册</el-button></el-col>\n          <el-col :span=\"11\" :offset=\"7\">\n            <el-link href=\"/login\" target= \"_self\"\n                     type=\"primary\" fontsize=\"small\"  :underline=\"false\">\n            已有账号>>请登录\n            </el-link>\n          </el-col>\n      </el-form-item>\n    </el-form>\n\n  </div>\n</template>\n\n<script>\n//这里导入接口？\n//import {register} from '@/service/api';\nimport request from \"@/utils/request\";\n\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Register\",\n  data(){\n    const validateCheckPass =(rule, value,callback) => {\n      if(!value){\n        callback(new Error(\"请再次输入密码\"));\n      }else if(value != this.user.pass) {\n        callback(new Error(\"两次输入的密码不一致\"));\n      }else {\n        callback();\n      }\n    }\n    return{\n      user:{\n        username:'',\n        account: '',\n        pass:'',\n        checkPass:''\n      },\n      rules:{\n        username:[\n          {required:true,message:\"用户名不可为空\",trigger:\"blur\"}\n        ],\n        account: [{\n          required: true,\n          message: '请输入邮箱或手机号',\n          trigger: 'blur',\n        },\n          /*{\n            type: 'email',\n            message: 'Please input correct email address',\n            trigger: ['blur', 'change'],\n          },*/\n          {\n            pattern: /^1[34578]\\d{9}|(([a-zA-Z0-9]+[-_.]?)+@[a-zA-Z0-9]+\\.[a-z]+)$/ ,\n            message: '请输入正确的手机号或邮箱'\n\n          }],\n        pass:[{\n          required:true,\n          message: \"请输入密码\",\n          trigger: 'blur'\n        },{\n          pattern: /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,20}$/, message: '密码必须同时包含数字与字母,且长度为8-20位'\n        }],\n        checkPass: [{\n          validator: validateCheckPass,\n          trigger:'blur'\n        }],\n      }\n      }},\n      methods: {\n    //这里方法要测试改改\n        registerSubmit(formName) {\n          this.$refs[formName].validate((valid) => {\n            if (valid) {\n               register({\n                account:this.user.account,\n                name: this.user.name,\n                password:this.user.checkPass\n              }).then((data)=> {\n                console.log(data)\n                if(data.code === 200) {\n                  localStorage.setItem('token',data.data.token)\n                  this.$router.push('/login');\n                }else if(data.code === 400){\n                  this.$message.error(data.msg) //返回错误信息，即CommonResult里的msg\n                }\n              })\n            /*  request.post(\"/user/register\", this.user).then(data => {\n                if (data.code === 200) {\n                  console.log(data);\n                  localStorage.setItem('token', data.data.token)\n                  this.$router.push('/login');\n                } else {\n                  console.log(data);\n                  this.$message.error(data.msg) //返回错误信息，即CommonResult里的msg\n                }\n              })*/\n            } else {\n              console.log('error submit!!');\n              return false;\n            }\n          })\n\n        }\n      }\n    }\n\n\n</script>\n\n<style scoped>\n/*样式还没写*/\n.register-box{\n  border:1px solid #DCDFE6;\n  width: 350px;\n  margin:180px auto;\n  padding: 35px 35px 15px 35px;\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  box-shadow: 0 0 25px #909399;\n}\n.register-title{\n  text-align:center;\n  margin: 0 auto 40px auto;\n  color: #2955ad;\n}\n\n\n</style>"]},"metadata":{},"sourceType":"module"}