{"ast":null,"code":"export default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Login\",\n\n  data() {\n    return {\n      user: {\n        username: '',\n        password: ''\n      },\n      //表单验证，需要在 el-form-item 元素中增加prop属性\n      rules: {\n        username: [{\n          required: true,\n          message: \"账号不可为空\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"密码不可为空\",\n          tigger: \"blur\"\n        }]\n      },\n      //对话框显示和隐藏\n      dialogVisible: false\n    };\n  },\n\n  methods: {\n    onSubmit(formName) {\n      //为表单绑定验证功能\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          this.request.post(\"/user/login\", this.user).then(res => {\n            if (res.code === 200) {\n              //使用vue-router路由到指定界面，该方式称为编程式导航\n              this.$router.push('/main');\n            } else {\n              this.$message.error(\"用户名或密码错误\");\n            }\n          });\n        } else {\n          //这里演示不了弹窗效果\n          this.dialogVisible = true;\n          return false;\n        }\n      });\n    },\n\n    register() {\n      this.$router.push('/register');\n    }\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}