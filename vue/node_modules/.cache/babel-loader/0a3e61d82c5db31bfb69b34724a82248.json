{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-04a26650\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"login-title\"\n}, \"欢迎登录\", -1));\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"忘记密码？\");\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"登录\");\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"注册\");\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"请输入账号和密码\", -1));\n\nconst _hoisted_6 = {\n  class: \"dialog-footer\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"取消\");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"确定\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_link = _resolveComponent(\"el-link\");\n\n  const _component_el_col = _resolveComponent(\"el-col\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_form, {\n    ref: \"loginForm\",\n    model: $data.user,\n    rules: $data.rules,\n    \"label-width\": \"80px\",\n    class: \"login-box\"\n  }, {\n    default: _withCtx(() => [_hoisted_1, _createVNode(_component_el_form_item, {\n      label: \"账号\",\n      prop: \"username\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"text\",\n        placeholder: \"请输入账号\",\n        modelValue: $data.user.username,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.username = $event)\n      }, null, 8, [\"modelValue\"])]),\n      _: 1\n    }), _createVNode(_component_el_form_item, {\n      label: \"密码\",\n      prop: \"password\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"password\",\n        placeholder: \"请输入密码\",\n        \"show-password\": \"\",\n        modelValue: $data.user.password,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.password = $event)\n      }, null, 8, [\"modelValue\"])]),\n      _: 1\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_col, {\n        span: 12\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_link, {\n          class: \"forgett\",\n          type: \"info\",\n          fontsize: \"small\",\n          underline: false\n        }, {\n          default: _withCtx(() => [_hoisted_2]),\n          _: 1\n        })]),\n        _: 1\n      }), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: _cache[2] || (_cache[2] = $event => $options.onSubmit('loginForm'))\n      }, {\n        default: _withCtx(() => [_hoisted_3]),\n        _: 1\n      }), _createVNode(_component_el_button, {\n        type: \"warning\",\n        onClick: $options.register\n      }, {\n        default: _withCtx(() => [_hoisted_4]),\n        _: 1\n      }, 8, [\"onClick\"])]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"model\", \"rules\"]), _createVNode(_component_el_dialog, {\n    title: \"温馨提示\",\n    visible: _ctx.dialogVisiable,\n    \"onUpdate:visible\": _cache[5] || (_cache[5] = $event => _ctx.dialogVisiable = $event),\n    width: \"30%\",\n    \"before-close\": _ctx.handleClose\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_6, [_createVNode(_component_el_button, {\n      onClick: _cache[3] || (_cache[3] = $event => $data.dialogVisible = false)\n    }, {\n      default: _withCtx(() => [_hoisted_7]),\n      _: 1\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[4] || (_cache[4] = $event => $data.dialogVisible = false)\n    }, {\n      default: _withCtx(() => [_hoisted_8]),\n      _: 1\n    })])]),\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1\n  }, 8, [\"visible\", \"before-close\"])]);\n}","map":{"version":3,"mappings":";;;;gEAGMA,oBAAiC,IAAjC,EAAiC;AAA7BC,OAAK,EAAC;AAAuB,CAAjC,EAAwB,MAAxB,EAA4B,EAA5B;;iDAa8E;;iDAEnB;;iDACb;;gEAM9CD,oBAAqB,MAArB,EAAqB,IAArB,EAAM,UAAN,EAAc,EAAd;;;AAEMC,OAAK,EAAC;;;iDACgC;;iDACe;;;;;;;;;;;;;;;;;uBA5B/DC,oBAgCM,KAhCN,EAgCM,IAhCN,EAgCM,CA/BJC,aAoBUC,kBApBV,EAoBU;AApBDC,OAAG,EAAC,WAoBH;AApBgBC,SAAK,EAAEC,UAoBvB;AApB8BC,SAAK,EAAED,WAoBrC;AApB4C,mBAAY,MAoBxD;AApB+DN,SAAK,EAAC;AAoBrE,GApBV;sBACE,MAAiC,CAAjCQ,UAAiC,EACjCN,aAKeO,uBALf,EAKe;AALDC,WAAK,EAAC,IAKL;AALUC,UAAI,EAAC;AAKf,KALf;wBAIE,MAAmE,CAAnET,aAAmEU,mBAAnE,EAAmE;AAAzDC,YAAI,EAAC,MAAoD;AAA7CC,mBAAW,EAAC,OAAiC;oBAAhBR,WAAKS,QAAW;mEAAhBT,WAAKS,WAAQC;AAAG,OAAnE,0BAAmE;;KAJrE,CADiC,EAOjCd,aAEeO,uBAFf,EAEe;AAFDC,WAAK,EAAC,IAEL;AAFUC,UAAI,EAAC;AAEf,KAFf;wBACE,MAAqF,CAArFT,aAAqFU,mBAArF,EAAqF;AAA3EC,YAAI,EAAC,UAAsE;AAA3DC,mBAAW,EAAC,OAA+C;AAAvC,2BAAuC;oBAAhBR,WAAKW,QAAW;mEAAhBX,WAAKW,WAAQD;AAAG,OAArF,0BAAqF;;KADvF,CAPiC,EAWjCd,aAOeO,uBAPf,EAOe,IAPf,EAOe;wBANb,MAES,CAFTP,aAESgB,iBAFT,EAES;AAFAC,YAAI,EAAE;AAEN,OAFT,EAAiB;0BACf,MAAyF,CAAzFjB,aAAyFkB,kBAAzF,EAAyF;AAAhFpB,eAAK,EAAC,SAA0E;AAAhEa,cAAI,EAAC,MAA2D;AAApDQ,kBAAQ,EAAC,OAA2C;AAAjCC,mBAAS,EAAE;AAAsB,SAAzF;4BAA0E,MAAK;;SAA/E,CAAyF,EAD1E;;AAAA,OAAjB,CAES,EACTpB,aAAuEqB,oBAAvE,EAAuE;AAA5DV,YAAI,EAAC,SAAuD;AAA5CW,eAAK,sCAAEC,kBAAQ,WAAR,CAAF;AAAuC,OAAvE;0BAAyD,MAAE;;OAA3D,CADS,EAETvB,aAA0DqB,oBAA1D,EAA0D;AAA/CV,YAAI,EAAC,SAA0C;AAA/BW,eAAK,EAAEC;AAAwB,OAA1D;0BAA4C,MAAE;;OAA9C,iBAFS,EAII;;AAAA,KAPf,CAXiC;;GADnC,wBA+BI,EATJvB,aAQYwB,oBARZ,EAQY;AARDC,SAAK,EAAC,MAQL;AARoBC,WAAO,EAAEC,mBAQ7B;4DAR6BA,sBAAcb,OAQ3C;AAR6Cc,SAAK,EAAC,KAQnD;AAR0D,oBAAcD;AAQxE,GARZ;AAEaE,UAAM,WACjB,MAGO,CAHPhC,oBAGO,MAHP,cAGO,CAFLG,aAAwDqB,oBAAxD,EAAwD;AAA5CC,aAAK,sCAAElB,sBAAa,KAAf;AAAuC,KAAxD;wBAA0C,MAAE;;KAA5C,CAEK,EADLJ,aAAuEqB,oBAAvE,EAAuE;AAA5DV,UAAI,EAAC,SAAuD;AAA5CW,aAAK,sCAAElB,sBAAa,KAAf;AAAuC,KAAvE;wBAAyD,MAAE;;KAA3D,CACK,CAHP,CAGO,CAJU;sBADjB,MAAqB,CAArB0B,UAAqB;;GADvB,iCASI,CAhCN","names":["_createElementVNode","class","_createElementBlock","_createVNode","_component_el_form","ref","model","$data","rules","_hoisted_1","_component_el_form_item","label","prop","_component_el_input","type","placeholder","username","$event","password","_component_el_col","span","_component_el_link","fontsize","underline","_component_el_button","onClick","$options","_component_el_dialog","title","visible","_ctx","width","footer","_hoisted_5"],"sourceRoot":"","sources":["D:\\IDEA\\CommentSystem\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div>\n    <el-form ref=\"loginForm\" :model=\"user\" :rules=\"rules\" label-width=\"80px\" class=\"login-box\">\n      <h2 class=\"login-title\">欢迎登录</h2>\n      <el-form-item label=\"账号\" prop=\"username\">\n<!--          <span>\n            <user theme=\"outline\" size=\"12\" fill=\"#333\" :strokeWidth=\"3\"/>\n          </span>-->\n        <el-input type=\"text\" placeholder=\"请输入账号\" v-model=\"user.username\"/>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input type=\"password\" placeholder=\"请输入密码\" show-password v-model=\"user.password\"/>\n      </el-form-item>\n\n      <el-form-item>\n        <el-col :span=\"12\">\n          <el-link class=\"forgett\" type=\"info\" fontsize=\"small\"  :underline=\"false\">忘记密码？</el-link>\n        </el-col>\n        <el-button type=\"primary\" @click=\"onSubmit('loginForm')\">登录</el-button>\n        <el-button type=\"warning\" @click=\"register\">注册</el-button>\n\n      </el-form-item>\n    </el-form>\n\n    <el-dialog title=\"温馨提示\" v-model:visible=\"dialogVisiable\" width=\"30%\" :before-close=\"handleClose\">\n      <span>请输入账号和密码</span>\n      <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确定</el-button>\n      </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Login\",\n  data(){\n    return{\n      user:{\n        username:'',\n        password:''\n      },\n      //表单验证，需要在 el-form-item 元素中增加prop属性\n      rules:{\n        username:[\n          {required:true,message:\"账号不可为空\",trigger:\"blur\"}\n        ],\n        password:[\n          {required:true,message:\"密码不可为空\",tigger:\"blur\"}\n        ]\n      },\n\n      //对话框显示和隐藏\n      dialogVisible:false\n    }\n  },\n  methods:{\n    onSubmit(formName){\n      //为表单绑定验证功能\n     this.$refs[formName].validate((valid)=>{\n        if(valid){\n           this.request.post(\"/user/login\",this.user).then(res=> {\n            if (res) {\n              //使用vue-router路由到指定界面，该方式称为编程式导航\n              this.$router.push('/main');\n            } else {\n              this.$message.error(\"用户名或密码错误\")\n            }\n          })\n        }else{ //这里演示不了弹窗效果\n          this.dialogVisible=true;\n          return false;\n        }\n      });\n    },\n    register() {\n      this.$router.push('/register');\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login-box{\n  border:1px solid #DCDFE6;\n  width: 350px;\n  margin:180px auto;\n  padding: 35px 35px 15px 35px;\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  box-shadow: 0 0 25px #909399;\n}\n.login-title{\n  text-align:center;\n  margin: 0 auto 40px auto;\n  color: #2955ad;\n}\n.el-link {\n  font-size: small;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}