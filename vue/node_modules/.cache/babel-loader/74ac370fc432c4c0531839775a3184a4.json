{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Login\",\n\n  data() {\n    return {\n      user: {},\n      //表单验证，需要在 el-form-item 元素中增加prop属性\n      rules: {\n        username: [{\n          required: true,\n          message: \"账号不可为空\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"密码不可为空\",\n          tigger: \"blur\"\n        }]\n      },\n      //对话框显示和隐藏\n      dialogVisible: false\n    };\n  },\n\n  methods: {\n    onSubmit(formName) {\n      //为表单绑定验证功能\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          request.post(\"/user/login\", this.user).then(res => {\n            console.log(res);\n            /*  if (res) {\n                console.log(res);\n                //使用vue-router路由到指定界面，该方式称为编程式导航\n                this.$router.push('/main');\n              } else {\n                console.log(res);\n                this.$message.error(\"用户名或密码错误\")\n              }*/\n          });\n        } else {\n          //这里演示不了弹窗效果\n          this.dialogVisible = true;\n          return false;\n        }\n      });\n    },\n\n    register() {\n      this.$router.push('/register');\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqCA,OAAOA,OAAP,MAAoB,iBAApB;AAEA,eAAe;AACb;AACAC,MAAI,EAAE,OAFO;;AAGbC,MAAI,GAAE;AACJ,WAAM;AACJC,UAAI,EAAC,EADD;AAEJ;AACAC,WAAK,EAAC;AACJC,gBAAQ,EAAC,CACP;AAACC,kBAAQ,EAAC,IAAV;AAAeC,iBAAO,EAAC,QAAvB;AAAgCC,iBAAO,EAAC;AAAxC,SADO,CADL;AAIJC,gBAAQ,EAAC,CACP;AAACH,kBAAQ,EAAC,IAAV;AAAeC,iBAAO,EAAC,QAAvB;AAAgCG,gBAAM,EAAC;AAAvC,SADO;AAJL,OAHF;AAYJ;AACAC,mBAAa,EAAC;AAbV,KAAN;AAeD,GAnBY;;AAoBbC,SAAO,EAAC;AACNC,YAAQ,CAACC,QAAD,EAAU;AAChB;AACD,WAAKC,KAAL,CAAWD,QAAX,EAAqBE,QAArB,CAA+BC,KAAD,IAAS;AACpC,YAAGA,KAAH,EAAS;AACNjB,iBAAO,CAACkB,IAAR,CAAa,aAAb,EAA2B,KAAKf,IAAhC,EAAsCgB,IAAtC,CAA2CC,GAAG,IAAG;AAC/CC,mBAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;;;;;;;;AAQC,WAVA;AAWF,SAZD,MAYK;AAAE;AACL,eAAKT,aAAL,GAAmB,IAAnB;AACA,iBAAO,KAAP;AACF;AACD,OAjBF;AAkBA,KArBK;;AAsBNY,YAAQ,GAAG;AACT,WAAKC,OAAL,CAAaC,IAAb,CAAkB,WAAlB;AACF;;AAxBM;AApBK,CAAf","names":["request","name","data","user","rules","username","required","message","trigger","password","tigger","dialogVisible","methods","onSubmit","formName","$refs","validate","valid","post","then","res","console","log","register","$router","push"],"sourceRoot":"","sources":["D:\\IDEA\\CommentSystem\\vue\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div>\n    <el-form ref=\"loginForm\" :model=\"user\" :rules=\"rules\" label-width=\"80px\" class=\"login-box\">\n      <h2 class=\"login-title\">欢迎登录</h2>\n      <el-form-item label=\"账号\" prop=\"username\">\n<!--          <span>\n            <user theme=\"outline\" size=\"12\" fill=\"#333\" :strokeWidth=\"3\"/>\n          </span>-->\n        <el-input type=\"text\" placeholder=\"请输入账号\" v-model=\"user.username\"/>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input type=\"password\" placeholder=\"请输入密码\" show-password v-model=\"user.password\"/>\n      </el-form-item>\n\n      <el-form-item>\n        <el-col :span=\"12\">\n          <el-link class=\"forgett\" type=\"info\" fontsize=\"small\"  :underline=\"false\">忘记密码？</el-link>\n        </el-col>\n        <el-button type=\"primary\" @click=\"onSubmit('loginForm')\">登录</el-button>\n        <el-button type=\"warning\" @click=\"register\">注册</el-button>\n\n      </el-form-item>\n    </el-form>\n\n    <el-dialog title=\"温馨提示\" v-model:visible=\"dialogVisiable\" width=\"30%\" :before-close=\"handleClose\">\n      <span>请输入账号和密码</span>\n      <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button id=\"loginSubmit\" type=\"primary\" @click=\"dialogVisible = false\">确定</el-button>\n      </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Login\",\n  data(){\n    return{\n      user:{},\n      //表单验证，需要在 el-form-item 元素中增加prop属性\n      rules:{\n        username:[\n          {required:true,message:\"账号不可为空\",trigger:\"blur\"}\n        ],\n        password:[\n          {required:true,message:\"密码不可为空\",tigger:\"blur\"}\n        ]\n      },\n\n      //对话框显示和隐藏\n      dialogVisible:false\n    }\n  },\n  methods:{\n    onSubmit(formName){\n      //为表单绑定验证功能\n     this.$refs[formName].validate((valid)=>{\n        if(valid){\n           request.post(\"/user/login\",this.user).then(res=> {\n             console.log(res);\n          /*  if (res) {\n              console.log(res);\n              //使用vue-router路由到指定界面，该方式称为编程式导航\n              this.$router.push('/main');\n            } else {\n              console.log(res);\n              this.$message.error(\"用户名或密码错误\")\n            }*/\n          })\n        }else{ //这里演示不了弹窗效果\n          this.dialogVisible=true;\n          return false;\n        }\n      });\n    },\n    register() {\n      this.$router.push('/register');\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login-box{\n  border:1px solid #DCDFE6;\n  width: 350px;\n  margin:180px auto;\n  padding: 35px 35px 15px 35px;\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  box-shadow: 0 0 25px #909399;\n}\n.login-title{\n  text-align:center;\n  margin: 0 auto 40px auto;\n  color: #2955ad;\n}\n.el-link {\n  font-size: small;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}